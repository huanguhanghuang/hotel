<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="assets/css/amazeui.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/jquery-ui-1.10.4.custom.min.css">
    <script src="assets/js/jquery.min.js"></script>
    <script  src="assets/js/amazeui.min.js"></script>
    <script src="assets/js/angular.min.js"></script>
    <script src="assets/js/jquery-ui-1.10.4.custom.min.js"></script>
</head>
<!--
header········································导航条
section#one··································表单行，两个按钮，两个搜索框
section#two··································房态
  div#main·································房态
    div#msg·····························消息提示框
  div#bar··································侧边栏
section#three································
 -->
<body  ng-app="myApp" ng-controller="Ctrl">
    <!-- nav start -->
        <header class="am-topbar">
            <h1 class="am-topbar-brand" style="margin-left:20%;margin-right:2%;">
              <a href="#" style="color:white;">酒店管理系统</a>
            </h1>
            <button class="am-topbar-btn am-topbar-toggle am-btn am-btn-sm am-btn-success am-show-sm-only" data-am-collapse="{target: '#doc-topbar-collapse'}"><span class="am-sr-only">导航切换</span> <span class="am-icon-bars"></span></button>
            <div class="am-collapse am-topbar-collapse am-topbar-inverse" id="doc-topbar-collapse">
              <ul class="am-nav am-nav-pills am-topbar-nav">
                      <li class="am-active"><a href="room-status.html">房态图</a></li>
                      <li><a href="guest.html">客人</a></li>
                      <li><a href="vip.html">会员</a></li>
                      <li><a href="company.html">协议单位</a></li>
                      <li><a href="report-forms.html">报表</a></li>
                      <li><a href="stock.html">库存</a></li>
                      <li><a href="options.html">设置</a></li>
              </ul>
            </div>
        </header>
    <!-- end nav -->
      <section id="one">
        <form class="one_content">
    <!-- ·································外客购买 start·························· -->
          <button type="button"  class="am-btn am-btn-secondary"  data-am-modal="{target: '#doc-modal-3', closeViaDimmer: 0, width: 1200, height: 800}">外客购买</button>
          <div class="am-modal am-modal-no-btn" tabindex="-1" id="doc-modal-3">
              <div class="am-modal-dialog">
                  <div class="am-modal-hd">外客购买
                      <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
                  </div>
                  <div class="am-modal-bd" class="oc-shop">
                      <table class="am-table am-table-bordered am-table-hover">
                          <thead>
                          <tr class="am-primary" id="oc_thead">
                              <th >商品</th>
                              <th>剩余库存</th>
                              <th>单价</th>
                              <th>购买数量</th>
                              <th>支付方式</th>
                              <th>金额</th>
                          </tr>
                          </thead>
                          <tbody id="oc_tbody">
                          <tr>
                              <td><input type="" name="" class="research" value="酒"></td>
                              <td><input type="" name=""  disabled value="100"></td>
                              <td><input class="oct_price" type="" name=""  disabled value="10"></td>
                              <td><input class="oct_number" type="number" name="" ng-model='octNumber' ng-change='change()'></td>

                              <td>
                                <select ng-init="selectedName=paymethods[0]" ng-model="selectedName" ng-options="x for x in paymethods"></select>
                              </td>
                              <td><input class="oct_totalPrice" type="" name="" disabled ng-value='totalPrice'></td>
                          </tr>
                          <tr>
                              <td><input type="" name="" ></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                          </tr>
                          <tr>
                              <td><input type="" name="" ></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                          </tr>
                          <tr>
                              <td><input type="" name="" ></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                              <td><input type="" name=""></td>
                          </tr>

                          <tr class="oct_tr">
                              <td colspan="5">总计：</td>
                              <td></td>
                          </tr>
                          </tbody>
                      </table>
                      <button class="am-btn am-btn-secondary" data-am-modal-close>保存</button>
                  </div>
              </div>
          </div>
    <!-- ·································end 外客购买·························· -->
    <!-- ·························时间输入框······················· -->
          <input class="oc_time" type="date" name="date" data-am-datepicker>
    <!-- ·························反结账 start······························ -->
          <button
                  type="button"
                  class="am-btn am-btn-primary"
                  data-am-modal="{target: '#doc-modal-checkout', closeViaDimmer: 0, width: 1200, height: 900}">
              反结账
          </button>

          <div class="am-modal am-modal-no-btn" tabindex="-1" id="doc-modal-checkout">
              <div class="am-modal-dialog">
                  <div class="am-modal-hd">反结账
                      <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
                  </div>
                  <div class="am-modal-bd">
                      <table class="am-table am-table-bordered am-table-hover">
                          <thead>
                          <tr class="am-primary">
                              <th>单号</th>
                              <th>房号</th>
                              <th>房型</th>
                              <th>姓名</th>
                              <th>电话</th>
                              <th>会员/协议</th>
                              <th>入住时间</th>
                              <th>预离时间</th>
                              <th>已住天数</th>
                              <th>房价</th>
                              <th>收款</th>
                              <th>预授权</th>
                              <th>产生房租</th>
                              <th>消费</th>
                              <th>余额</th>
                              <th>操作</th>
                          </tr>
                          </thead>
                          <tbody>
                          <tr>
                              <td>&nbsp;</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td><button class="am-btn" onClick="cancelcheckout()">反结账</button></td>
                          </tr>
                          <tr>
                              <td>&nbsp;</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td><button class="am-btn" onClick="cancelcheckout()">反结账</button></td>
                          </tr>


                          </tbody>
                      </table>

                  </div>
              </div>
          </div>
    <!-- ·························end 反结账······························ -->
    <!-- ·····················搜索框····························· -->
          <input class="oc_search research" type="text" name="" placeholder ="请输入会员卡号/证件号码/房号" >
        </form>
      </section>
    <!-- ···································房态图································· -->
      <section id="two">
        <!-- ························主要房态图······························· -->
          <div id="main">
              <div class="main">
                  <ul  ng-repeat='v in data'>
                    <li  ng-style="{background:v.color}" ng-if='v.show=="" && v.show2=="" && v.show3==""'>
                      <dl>
                        <dd class="main_one">{{v.number}}</dd>
                        <dd class="main_one t">{{v.id}}</dd>
                        <dd class="main_two">{{v.name}}房</dd>
                        <dd class="main_two t">{{v.price}}元</dd>
                        <dd class="main_three">{{v.person}}</dd>
                        <dd class="main_four">{{v.state}}</dd>
                      </dl>
                    </li>
                  </ul>
              </div>

              <div class="am-modal am-modal-no-btn" tabindex="-1" id="doc-modal-book">
                  <div class="am-modal-dialog">
                      <div class="am-modal-hd">
                          <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
                      </div>
                      <div class="am-modal-bd">
                          <div class="table">
                              <table class="am-table am-table-bordered am-table-hover">
                                  <tr>
                                      <td>
                                          <label>房型：</label>
                                          <select data-am-selected>
                                              <option value="a" selected>全部</option>
                                              <option value="b">2</option>
                                              <option value="o">3</option>
                                              <option value="m">4</option>
                                          </select></td>
                                      <td>
                                          <label>房号：</label>
                                          <input type="text" name="text">
                                      </td>
                                      <td colspan="2">
                                          <label>会员卡号：</label>
                                          <input type="text" name="text">
                                      </td>
                                  </tr>
                                  <tr>
                                      <td>
                                          <label>来源：</label>
                                          <select data-am-selected>
                                              <option value="b" selected>客人自入</option>
                                              <option value="o">会员</option>
                                              <option value="m">协议单位</option>
                                          </select>

                                      </td>
                                      <td>
                                          <label>房价方案</label>
                                          <input type="text" name="text">
                                      </td>
                                      <td>
                                          <label>开房方式</label>
                                          <select data-am-selected>
                                              <option value="b" selected>天房</option>
                                              <option value="o">钟点房</option>
                                              <option value="m">自用房</option>
                                          </select>
                                      </td>
                                      <td>
                                          <label>房价：</label>
                                          <input type="text" name="text">
                                      </td>
                                  </tr>
                                  <tr>
                                      <td>
                                          <label>时间：</label>
                                          <input type="date" data-am-datepicker="" name="date">
                                      </td>
                                      <td>
                                          <label>预住天数：</label>
                                          <input type="num" name="">
                                      </td>
                                      <td><label >欲离时间:</label></td>
                                      <input type="date" data-am-datepicker="" name="date">
                                  </tr>
                              </table>
                          </div>
                          <div class="table">
                              <table class="am-table  am-table-hover">
                                  <tr>
                                      <td>
                                          <label>姓名：</label>
                                          <input type="text" name="text">
                                      </td>
                                      <td>
                                          <label>证件类型：</label>
                                          <select data-am-selected>
                                              <option value="a" selected>身份证</option>
                                              <option value="b">驾驶证</option>
                                              <option value="o">士兵证</option>
                                              <option value="m">士官证</option>
                                          </select>

                                      </td>
                                      <td>
                                          <label>证件号码：</label>
                                          <input type="text" name="text">
                                      </td>
                                  </tr>
                                  <tr>
                                      <td>
                                          <label>电话：</label>
                                          <input type="text" name="text">
                                      </td>
                                      <td>
                                          <label>出生年月：</label>
                                          <input type="text" data-am-datepicker="" name="text">
                                      </td>
                                      <td>
                                          <label>性别：</label>
                                          <select data-am-selected>
                                              <option value="a" selected>全部</option>
                                              <option value="b">男</option>
                                              <option value="o">女</option>
                                          </select>
                                      </td>
                                      <td>
                                          <label>民族：</label>
                                          <select data-am-selected>
                                              <option value="a" selected>汉</option>
                                              <option value="b">2</option>
                                              <option value="o">3</option>
                                              <option value="m">4</option>
                                          </select>
                                      </td>
                                  </tr>
                                  <tr>
                                      <td colspan="4">
                                          <label>地址：</label>
                                          <input type="text" name="text" style="width: 40%">
                                      </td>
                                  </tr>
                              </table>
                          </div>
                          <div class="table">
                              <table class="am-table am-table-bordered am-table-hover">
                                  <tr>
                                      <td>
                                          <div class="am-form-group">
                                              <label>支付方式：</label>
                                              <label class="am-radio-inline" >
                                                  <input type="radio"  value="" name="docInlineRadio" checked > 现金
                                              </label>
                                              <label class="am-radio-inline">
                                                  <input type="radio" name="docInlineRadio"> 刷卡
                                              </label>
                                              <label class="am-radio-inline">
                                                  <input type="radio" name="docInlineRadio"> 支付宝
                                              </label>
                                              <label class="am-radio-inline">
                                                  <input type="radio" name="docInlineRadio"> 微信
                                              </label>
                                              <label class="am-radio-inline">
                                                  <input type="radio" name="docInlineRadio">挂账
                                              </label>
                                          </div>
                                      </td>
                                      <td>
                                          <label>押金：</label>
                                          <input type="text" name="text">
                                      </td>
                                  </tr>
                                  <tr>
                                      <td>
                                          <label>业务员：</label>
                                          <span>张三</span>
                                      </td>
                                      <td>
                                          <label>总房价：</label>
                                      </td>
                                  </tr>
                                  <tr>
                                      <td>
                                          <label>单号：</label>
                                          <input type="text" name="text">
                                      </td>
                                  </tr>
                                  <tr>
                                      <td>
                                          <label>备注：</label>
                                          <input type="textarea" name="textarea" style="width:50s%; ">
                                      </td>
                                  </tr>
                              </table>
                              <button class="am-btn am-btn-secondarys">保存</button>
                          </div>
                      </div>
                  </div>
              </div><!--预订的模态窗口-->

              <div class="am-modal am-modal-no-btn" tabindex="-1" id="doc-modal-getout">
                  <div class="am-modal-dialog">
                      <div class="am-modal-hd">
                          <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
                      </div>
                      <div class="am-modal-bd">
                          <section id="checked-left" style="width: 8%; float: left;">
                              <button id="checked-btn-one"  class="am-btn am-btn-secondary">点击结账</button>
                              <button id="checked-btn-two" class="am-btn am-btn-secondary">点击换房</button>
                              <button id="checked-btn-three" class="am-btn am-btn-secondary">点击续住</button>
                              <button id="checked-btn-four" class="am-btn am-btn-secondary">商品添加</button>
                              <a class="am-btn am-btn-secondary" href="room-status.html">返回主页</a>
                          </section>

                          <div id="checked-right" style="width: 89%;float: right;">
                              <p><span style="text-align: left;font-size: 30px;color: black;">结账：</span><span style="float: right; margin-top:2%;color: black;">入住单号：201607231013</span><hr></p>
                              <table class="am-table am-table-bordered ">
                                  <thead>
                                  <tr class="am-primary">
                                      <th>房号</th>
                                      <th>项目名称</th>
                                      <th>消费金额</th>
                                      <th>备注</th>
                                  </tr>
                                  </thead>
                                  <tbody>
                                  <tr>
                                      <td>&nbsp;</td>
                                      <td></td>
                                      <td></td>
                                      <td></td>
                                  </tr>
                                  <tr>
                                      <td>&nbsp;</td>
                                      <td></td>
                                      <td></td>
                                      <td></td>
                                  </tr>
                                  <tr>
                                      <td colspan="2" style="text-align:right">总计：</td>
                                      <td>0</td>
                                      <td></td>
                                  </tr>
                                  </tbody>

                              </table>
                              <table class="am-table am-table-bordered ">
                                  <tr>
                                      <td>消费金额：<input type="text"></td>
                                      <td>已收金额: <input type="text"></td>
                                      <td>本次应收： <input type="text"></td>
                                  </tr>
                                  <tr>
                                      <td>
                                          <div class="am-form-group">
                                              <span>支付方式：</span>
                                              <label class="am-radio-inline">
                                                  <input type="radio"  value="" name="docInlineRadio"> 现金
                                              </label>
                                              <label class="am-radio-inline">
                                                  <input type="radio" name="docInlineRadio"> 刷卡
                                              </label>
                                              <label class="am-radio-inline">
                                                  <input type="radio" name="docInlineRadio"> 支付宝
                                              </label>
                                              <label class="am-radio-inline">
                                                  <input type="radio" name="docInlineRadio"> 微信
                                              </label>
                                              <label class="am-radio-inline">
                                                  <input type="radio" name="docInlineRadio">挂账
                                              </label>
                                          </div>
                                      </td>
                                      <td colspan="2">
                                          收款金额：
                                          <input type="text">
                                      </td>
                                  </tr>
                                  <tr>
                                      <td colspan="3"style="text-align: right;">
                                          <button class="am-btn am-btn-secondary">结账</button>
                                          <button class="am-btn am-btn-secondary" style="margin-right: 5px">打印</button>
                                      </td>
                                  </tr>
                              </table>

                          </div>
                          <script>
                              $(document).ready(function(){
                                  $('#checked-btn-one').click(function(){
                                      $('#checked-right').load('room-status/check-out.html')
                                  });
                                  $('#checked-btn-two').click(function(){
                                      $('#checked-right').load('room-status/exchange.html')
                                  });
                                  $('#checked-btn-three').click(function(){
                                      $('#checked-right').load('room-status/continue.html')
                                  });
                                  $('#checked-btn-four').click(function(){
                                      $('#checked-right').load('room-status/add.html')
                                  });
                              });

                          </script>

                      </div>
                  </div>
              </div>   <!-- box2,已入住房间的模态窗口-->


              <div class="am-modal am-modal-no-btn" tabindex="-1" id="doc-modal-empty">
                  <div class="am-modal-dialog">
                      <div class="am-modal-hd">
                          <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
                      </div>
                      <div class="am-modal-bd">
                          <section id="book-left" style="width: 8%;float:left;">
                              <button id="btn-book-one" class="am-btn am-btn-secondary">点击预定</button>
                              <button id="btn-book-two" class="am-btn am-btn-secondary">点击入住</button>
                              <a class="am-btn am-btn-secondary" href="room-status.html">返回主页</a>
                          </section>
                          <section id="book-right" style="width: 89%;float: right;">
                              <table class="am-table am-table-bordered">
                                  <thead>
                                  <tr class="am-primary">
                                      <th>预定号</th>
                                      <th>预定人</th>
                                      <th>预定人手机号</th>
                                      <th>人数</th>
                                      <th>订房数</th>
                                      <th>到店日期</th>
                                      <th>离店日期</th>
                                      <th>预订房型房号</th>
                                      <th>预定金</th>

                                      <th>备注</th>
                                  </tr>
                                  </thead>
                                  <tbody>
                                  <tr>
                                      <td>&nbsp;</td>
                                      <td></td>
                                      <td></td>
                                      <td></td>
                                      <td></td>
                                      <td></td>
                                      <td></td>
                                      <td></td>
                                      <td></td>
                                      <td></td>
                                  </tr>


                                  </tbody>
                              </table>
                              <button class="am-btn am-btn-secondary" style="float: right;margin-right: 6%;">预定</button>

                          </section>
                          <script>
                              $(document).ready(function(){
                                  $('#btn-book-two').click(function(){
                                      $('#book-right').load('room-status/registe.html')
                                  });
                                  $('#btn-book-one').click(function(){
                                      $('#book-right').load('room-status/check-in.html')
                                  });
                              });
                          </script>

                      </div>
                  </div>
              </div>   <!-- box1,空房的模态窗口-->
            <!-- ··············提示框 start······························· -->
              <div id="msg">
                  <div id="title">
                      <span>提示框</span>
                      <span>
                          <button class=" am-btn-xs am-close ">&times;</button>
                      </span>
                  </div>
                  <div id="mainmsg">
                      <br>
                      <p>1 . 我想在这个城市
                      有个小家 有爸爸有妈妈
                      陪着他们走在 铺满鹅卵石的道上
                      夕阳的余晖
                      </p>
                      <div class="nowTime"></div>
                      <p>2 . 我想在这个城市
                      有一群 可爱的朋友
                      可以陪着我 在
                      车水马龙中疯狂
                      也可以 穿着淑女装
                      在小桥流水的
                      古镇里 优雅</p>
                      <div class="nowTime"></div>
                      <p>3 . 我想在这个城市
                      邂逅 迟迟归来的他
                      可以没有 海誓山盟
                      但愿从此 在他眼中
                      慢慢老去
                      却始终 是他喜欢的
                      样子</p>
                      <div class="nowTime"></div>
                      <p>4 . 有一群 可爱的朋友
                      可以陪着我 在
                      车水马龙中疯狂
                      也可以 穿着淑女装
                      在小桥流水的
                      古镇里 优雅</p>
                      <div class="nowTime"></div>
                      <p class="mm_a"><a href="#">更多&raquo;</a></p>
                  </div>
              </div>
            <!-- ··············end 提示框 ······························ -->
          </div>
          <!-- ···············右侧边栏··························· -->
          <div id="bar">
            <!-- ···············房态 start·················· -->
              <label>房态 :</label>
                <select ng-init="roomData=roomdatas[0]" ng-model="roomData" ng-options="x as x.name for x in roomdatas"></select>
              <br>
              <label>房型 :</label>
                <select ng-init="roomShape=roomshapes[0]" ng-model="roomShape" ng-options="x as x.name for x in roomshapes"></select>
              <br>
              <label>楼层 :</label>
                <select ng-init="roomFloor=roomfloors[0]" ng-model="roomFloor" ng-options="x for x in roomfloors"></select>
              <hr>
            <!-- ···············end 房态················· -->
            <!-- ·····················房价调整 start················· -->
              <button
                      type="button"
                      class="am-btn am-btn-primary"
                      data-am-modal="{target: '#doc-modal-5', closeViaDimmer: 0, width: 1200, height: 800}">
                  房价调整
              </button>
              <div class="am-modal am-modal-no-btn" tabindex="-1" id="doc-modal-5">
                  <div class="am-modal-dialog">
                      <div class="am-modal-hd">房价调整
                          <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
                      </div>
                      <div class="am-modal-bd">
                          <table class="am-table am-table-bordered am-table-hover">
                              <thead id="b_thead">
                              <tr class="am-primary">
                                  <th>房间类型</th>
                                  <th>原房价</th>
                                  <th>现房价</th>
                                  <th>会原价</th>
                                  <th colspan="2">调整时间段</th>
                              </tr>
                              </thead>
                              <tbody id="b_tbody">
                              <tr>
                                  <td><select id="test" ng-init="roomShapes=roomshapes[0]" ng-model="roomShapes" ng-options="x as x.name for x in roomshapes"></select></td>
                                  <td><input type="" name="" value="168" disabled></td>
                                  <td><input type="" name="" ng-model='newPrice' class="bt_new" ng-change='roomPrice()'></td>
                                  <td><input type="" name="" disabled ng-model='memberPrice' class="bt_merber"></td>
                                  <td colspan="2" id="bt_time"><input type="" name="date" data-am-datepicker> ---- <input type="" name="date" data-am-datepicker></td>
                              </tr>
                              <tr>
                                  <td><input type="" name="" ></td>
                                  <td><input type="" name=""></td>
                                  <td><input type="" name=""></td>
                                  <td><input type="" name=""></td>
                                  <td colspan="2"><input type="" name=""></td>
                              </tr>
                              <tr>
                                  <td><input type="" name="" ></td>
                                  <td><input type="" name=""></td>
                                  <td><input type="" name=""></td>
                                  <td><input type="" name=""></td>
                                  <td colspan="2"><input type="" name=""></td>
                              </tr>
                              <tr>
                                  <td><input type="" name="" ></td>
                                  <td><input type="" name=""></td>
                                  <td><input type="" name=""></td>
                                  <td><input type="" name=""></td>
                                  <td colspan="2"><input type="" name=""></td>
                              </tr>
                              <tr>
                                  <td><input type="" name="" ></td>
                                  <td><input type="" name=""></td>
                                  <td><input type="" name=""></td>
                                  <td><input type="" name=""></td>
                                  <td colspan="2"><input type="" name=""></td>
                              </tr>

                              </tbody>
                          </table>
                          <button class="am-btn am-btn-success" ng-click='savePrice()' >保存</button>
                      </div>
                  </div>
              </div>
            <!-- ·····················end 房价调整················· -->


            <!-- ·························今日房价 start······················· -->
              <div class="todayprice">
                  <p><b>今日房价:</b></p>
                  <div ng-repeat="v in roomshapes">
                      <p ng-hide='v.name=="全部"'>{{v.name}}：{{v.price}}元</p>
                  </div>
              </div>
            <!-- ·························end 今日房价······················ -->


          </div>
      </section>
    <!-- ·················不同颜色对应不同房间······································· -->
      <section id="three">
        <ul ng-repeat="v in roomdatas">
            <li ng-click="threeclick($event)" ng-style="{background:v.bgcolor}" ng-if="v.name !=='全部'" >{{v.name}}</li><span  ng-if="v.name !=='全部'">{{v.residue}}间</span>
        </ul>
      </section>
    <!-- ·································页脚································ -->
      <footer>
          <div id="left">
          <span class="foot">酒店名称：斯纳格田园酒店</span>
          <span class="foot">用户名：18990180707</span>
          <span class="foot">班次：早班</span>
          </div>
          <div id="right">
              <a href="#" class="foot" data-am-modal="{target: '#doc-modal-shiftexchange',    closeViaDimmer: 0, width:1200, height:800}">交班</a>
              <span>|</span>
              <a href="#" class="foot">版本更新</a>
              <span>|</span>
              <a href="#" class="foot">退出</a>
              <span>|</span>
              <a href="#" class="foot"><img src="image/message.gif"></a>
              <span class="prompt" >温馨提示</span>
          </div>
          <div class="am-modal am-modal-no-btn" tabindex="-1" id="doc-modal-shiftexchange">
              <div class="am-modal-dialog">
                  <div class="am-modal-hd">交班报表
                      <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
                  </div>
                  <div class="am-modal-bd">
                      <span  style="float: left" >本班时间:</span>
                      <table class="am-table am-table-bordered">
                          <tr class="am-primary">
                              <td>项目</td>
                              <td colspan="11">支付方式</td>
                          </tr>
                          <tr>
                              <td></td>
                              <td>现金</td>
                              <td>银行卡</td>
                              <td>网上支付</td>
                              <td>储值卡</td>
                              <td>微信支付</td>
                              <td>协议挂账</td>
                              <td>支付宝扫码</td>
                              <td>携程</td>
                              <td>糯米</td>
                              <td>美团</td>
                              <td>盖网</td>
                              <td>小计</td>
                          </tr>
                          <tr>
                              <td>订金</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                          </tr>
                          <tr>
                              <td>押金</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                          </tr>
                          <tr>
                              <td>非住客帐</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                          </tr>
                          <tr>
                              <td>结账收款</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                          </tr>
                          <tr>
                              <td>结账退款</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                          </tr>
                          <tr>
                              <td>卡充值</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                          </tr>
                          <tr>
                              <td>消费付现</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                          </tr>
                          <tr>
                              <td>挂账结算</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                          </tr>
                          <tr>
                              <td>协议单位充值</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                          </tr>
                          <tr>
                              <td>合计</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                          </tr>
                      </table>
                      <span  style="float: left">交班人签字</span>
                      <button class="am-btn am-btn-secondary">交班</button>
                      <button class="am-btn am-btn-secondary">打印</button>
                  </div>
              </div>
          </div><!--交班报表的模态窗口-->
      </footer>
<script>

    $('.box2').attr("data-am-modal","{target: '#doc-modal-getout', closeViaDimmer: 0, width: 1300,height: 850}");
    $('.box1').attr("data-am-modal","{target: '#doc-modal-empty', closeViaDimmer: 0, width: 1300,height: 850}");
    $('.box6').attr("data-am-modal","{target: '#doc-modal-book', closeViaDimmer: 0, width: 1300,height: 850}");
    $('#main span').addClass('color-lump');
    $('.smallbox span').addClass('color-lump');

  // 获取本地时间  start
    function current(){
      var d=new Date(),str='';
      str +=d.getFullYear()+'年';
      str +=d.getMonth()+1+'月';
      str +=d.getDate()+'日';
      return str; }
      setInterval(function(){$(".nowTime").html(current)},50);
      var d=new Date();
  //end   获取本地时间

  // msg start
    $('div#title span button').click(function () {
        $('#msg').animate({
            width:'0px',
            height:'0px',
            opacity:'0'
        },300);
        $('div#title span:eq(0)').hide()
    });
    $('.prompt').click(function(){
       $('#msg').animate({
           width:'20%',
           height:'40%',
           opacity:'1',
       },300);
       $('div#title span:eq(0)').show()
    });
  // end msg
    function cancelcheckout(){
        var mymessage=  confirm("是否确认反结账")   ;
        if(mymessage==true)
        {
            alert('反结账成功！')
        }
        else
        {
            alert('已取消')
        }
    }/*反结账操作*/
    $(function() {
       var shopdatas = [
           '牙膏',
           '牙刷',
           '酒',
           '纸',
       ];

       $( ".research" ).autocomplete({
         source: shopdatas
       });
     });
  // 鼠标移上li显示 start
    $(function() {
       $('#main .main li').popover({
        theme: 'warning sm',
        content: '<div style="width: 250px"><b style="padding: 0px">101</b><p style="margin: 2px 0px">普通房</p><div><p style="width: 50%;float: left;margin: 2px 0px">床位数：2</p><p style="width: 50%;float: left;margin: 2px 0px">房价：168元</p></div><div><span style="float: left;">房内设施：</span><span style="display: inline-block; background:  rgba(0,0,0,.5);margin: 2px 5px;padding:1px 5px">热水</span><span style="display: inline-block; background: rgba(0,0,0,.5);padding:1px 5px;margin: 2px 5px">空调</span><span style="display: inline-block; background: rgba(0,0,0,.5);padding:1px 5px;margin: 2px 5px">电视</span><span style="display: inline-block; background: rgba(0,0,0,.5);padding:1px 5px;margin-left: 10px">wifi</span><span style="display: inline-block; background:rgba(0,0,0,.5);padding:1px 5px;margin: 2px 5px">卫生间</span></div><div style="padding:5px 0px"><span style="float: left;">房内特征：</span ><span style="display: inline-block; background: rgba(0,0,0,.5);padding:1px 5px;margin: 2px 5px">白色调</span><span style="display: inline-block; background: rgba(0,0,0,.5);padding:1px 5px;margin: 2px 5px">朝海</span></div></div>',
        trigger: 'hover',
      })
    });
  // end    鼠标移上li显示


    var app = angular.module('myApp', []);
    // focus指令           start
      app.directive('autoFocus', function(){
             return function(scope, element){
               element[0].focus();
             };
       });
    // end           focus指令


    app.controller('Ctrl', ["$scope","$http",function($scope,$http) {

        $scope.shop={
            'shopdatas':[{
                'name':'牙膏',
                'numbers':'100',
                'price':'12'
            },
            {
                'name':'牙刷',
                'numbers':'10',
                'price':'5'
            },
            {
                'name':'酒',
                'numbers':'10',
                'price':'200'
            },
            {
                'name':'纸',
                'numbers':'1000',
                'price':'3'
            },]
        };
        $scope.paymethods=["现金","支付宝","微信","刷卡","挂账"];// 支付方式 start
      // 外客购买计算总价       start
        $scope.change=function(){
          if ($scope.octNumber<0) {
            $scope.totalPrice=0;
            alert('请输入大于0的数字')
          } else {
            $scope.totalPrice=$('.oct_price').val()*$scope.octNumber;
          }
        };
      // end       外客购买 计算总价
$scope.data=[
 {'id':1,'name':'普通','number':101,'price':120,'person':'张三','state':'空房','color':'#2993cc'},
 {'id':1,'name':'商务','number':102,'price':168,'person':'张三','state':'在住','color':'#d32945'},
 {'id':1,'name':'贵宾','number':103,'price':228,'person':'张三','state':'待查','color':'#070f7a'},
 {'id':1,'name':'标间','number':104,'price': 90,'person':'张三','state':'自用','color':'#29e17f'},
 {'id':1,'name':'普通','number':105,'price':120,'person':'张三','state':'修理','color':'#a49fb1'},
 {'id':1,'name':'普通','number':106,'price':120,'person':'张三','state':'脏房','color':'#24282a'},
 {'id':1,'name':'商务','number':107,'price':168,'person':'张三','state':'待查','color':'#070f7a'},
 {'id':1,'name':'贵宾','number':108,'price':228,'person':'张三','state':'预订','color':'#c9d329'},
 {'id':1,'name':'标间','number':109,'price': 90,'person':'张三','state':'空房','color':'#2993cc'},
 {'id':1,'name':'普通','number':110,'price':120,'person':'张三','state':'空房','color':'#2993cc'},
 {'id':1,'name':'商务','number':111,'price':168,'person':'张三','state':'待查','color':'#070f7a'},
 {'id':1,'name':'贵宾','number':112,'price':228,'person':'张三','state':'空房','color':'#2993cc'},
 {'id':1,'name':'标间','number':113,'price': 90,'person':'张三','state':'空房','color':'#2993cc'},

 {'id':2,'name':'普通','number':201,'price':120,'person':'张三','state':'空房','color':'#2993cc'},
 {'id':2,'name':'商务','number':202,'price':168,'person':'张三','state':'在住','color':'#d32945'},
 {'id':2,'name':'贵宾','number':203,'price':228,'person':'张三','state':'待查','color':'#070f7a'},
 {'id':2,'name':'标间','number':204,'price': 90,'person':'张三','state':'自用','color':'#29e17f'},
 {'id':2,'name':'普通','number':205,'price':120,'person':'张三','state':'修理','color':'#a49fb1'},
 {'id':2,'name':'普通','number':206,'price':120,'person':'张三','state':'脏房','color':'#24282a'},
 {'id':2,'name':'商务','number':207,'price':168,'person':'张三','state':'待查','color':'#070f7a'},
 {'id':2,'name':'贵宾','number':208,'price':228,'person':'张三','state':'预订','color':'#c9d329'},
 {'id':2,'name':'标间','number':209,'price': 90,'person':'张三','state':'空房','color':'#2993cc'},

 {'id':3,'name':'普通','number':305,'price':120,'person':'张三','state':'修理','color':'#a49fb1'},
 {'id':3,'name':'普通','number':306,'price':120,'person':'张三','state':'脏房','color':'#24282a'},
 {'id':3,'name':'商务','number':307,'price':168,'person':'张三','state':'待查','color':'#070f7a'},
 {'id':3,'name':'贵宾','number':308,'price':228,'person':'张三','state':'预订','color':'#c9d329'},
 {'id':3,'name':'标间','number':309,'price': 90,'person':'张三','state':'空房','color':'#2993cc'},
 {'id':3,'name':'普通','number':310,'price':120,'person':'张三','state':'空房','color':'#2993cc'},
 {'id':3,'name':'商务','number':311,'price':168,'person':'张三','state':'待查','color':'#070f7a'},
 {'id':3,'name':'贵宾','number':312,'price':228,'person':'张三','state':'空房','color':'#2993cc'},
 {'id':3,'name':'标间','number':313,'price': 90,'person':'张三','state':'空房','color':'#2993cc'},
]
        $scope.roomdatas=[
                        {'name':'全部',},
                        {'name':'空房','bgcolor':'#2993cc','residue':'12'},
                        {'name':'预订','bgcolor':'#c9d329','residue':'2'},
                        {'name':'在住','bgcolor':'#d32945','residue':'1'},
                        {'name':'待查','bgcolor':'#070f7a','residue':'18'},
                        {'name':'自用','bgcolor':'#29e17f','residue':'24'},
                        {'name':'脏房','bgcolor':'#24282a','residue':'14'},
                        {'name':'修理','bgcolor':'#a49fb1','residue':'52'},];
        $scope.roomshapes=[
                        {'name':'全部'},
                        {'name':'普通','price':'120'},
                        {'name':'商务','price':'168'},
                        {'name':'贵宾','price':'228'},
                        {'name':'标间','price':'90'},];
        $scope.roomfloors=['全部','1','2','3'];

      // 选择房型 楼层房态       start
          $scope.$watch("roomFloor", function(n){
              for (var i = 0; i < $scope.data.length; i++) {
               $scope.data[i].show=""
                  if(n=='全部'){
                    $scope.data[i].show=!$scope.data[i].show
                  };
                  if(n != $scope.data[i].id){
                     $scope.data[i].show=!$scope.data[i].show
                  }
               }
          });
          $scope.$watch("roomData", function(n){
              for (var i = 0; i < $scope.data.length; i++) {
               $scope.data[i].show2="";
                  if(n.name =='全部'){
                    $scope.data[i].show2=!$scope.data[i].show2
                  }
                  if(n.name !== $scope.data[i].state){
                     $scope.data[i].show2=!$scope.data[i].show2
                  }
               }
          });
          $scope.$watch("roomShape", function(n){
              for (var i = 0; i < $scope.data.length; i++) {
               $scope.data[i].show3="";
                  if(n.name =='全部'){
                    $scope.data[i].show3=!$scope.data[i].show3
                  }
                  if(n.name !== $scope.data[i].name){
                    console.log(2)
                     $scope.data[i].show3=!$scope.data[i].show3
                  }
               }
          });
      //end        选择房型 楼层房态
      // 房价调整     start
        $scope.roomPrice=function(){
          if ($scope.newPrice<0 ||  isNaN($('.bt_new').val())) {
            $scope.newPrice='';
            alert('请输入大于0的数字')
          } else {
            $scope.memberPrice=$('.bt_new').val()*8/10;
          }
        };
        $scope.savePrice=function(){
          $scope.$watch("roomShapes", function(n){
              for (var i = 0; i < $scope.roomshapes.length; i++) {
                  if (n.name==$scope.roomshapes[i].name) {
                      $scope.roomshapes[i].price=$('.bt_new').val();
                  };
                  if (n.name=='全部'){
                      $scope.roomshapes[i].price=$('.bt_new').val();
                  };
                }
          });
          if ($scope.newPrice>0 && ! isNaN($('.bt_new').val())){
              $("#doc-modal-5").modal("close");
          }
          else{
             alert('请输入调整后的价格')
          }



        };
      // end           房价调整






      // $scope.threeclick=function($event){
      //   for (var i = 0; i < $scope.data.length; i++) {
      //     // console.log($scope.data[i].state);
      //     if ($($event.target).html()==$scope.data[i].state) {
      //         console.log(i)
      //     }
      //   }
      // }





    }]);

</script>
</body>
</html>
